<div class="contents-section">

    <div class="row no-gutters">
      <div class="col-lg-12 mb-30">
        <div class="card">
  
          <div class="card-header color-dark fw-500">
            <h3 class="card-header-section"><a href="#" class="breadcrumb-item"><i class="fas fa-home"></i> Home</a>
              <span class="breadcrumb-item active"> Credit Manager</span>
            </h3>
  
            <div class="quotation-btn-section">
             
  
              <button type="button" class="btn btn-primary" data-toggle="modal" title="Search"
                data-target="#searchCreditFormId">
                <i class="fas fa-search" style="margin-right:10;"></i>Search
              </button>
  
            </div>
  
  
  
          </div>
  
  
            <!-- Nav pills -->
            <ul class="nav nav-pills" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#SGSwitch1" role="tab" aria-controls="SGSwitch1"
                (click)="creditManagerList()"
                  aria-selected="true" > SG VOIP Switch New</a>
              </li>
              <!-- <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#SGSwitch2" role="tab" aria-controls="SGSwitch2"
                  aria-selected="false" >SG VOIP Switch 2-7_50</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#KLSwitch" role="tab" aria-controls="KLSwitch"
                  aria-selected="false" >KL VOIP Switch</a>
              </li> -->
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#SwitchAll" role="tab" (click)="voipSwitchAllList()"
                aria-controls="SwitchAll" aria-selected="false"
                  >VOIP Switch-All</a>
              </li>
  
            </ul>
  
            <!-- Tab panes -->
            <div class="tab-content" id="myTabContent">
              <div id="SGSwitch1" class="tab-pane fade show active" role="tabpanel" aria-labelledby="SGSwitch1-tab"><br>
                <!-- All sub menu starts -->
  
                <div class="card-body" id="delivery-order-section">
                  
                    <div class="userDatatable global-shadow border-0 bg-white w-100" style="padding: 0px 15px 1px;">
                        <div id="main">
                          <div>
                            <div class="accordion" id="faaq">
                              <div class="card" *ngFor="let name of getVoipDataListValues; let i = index;">
                                <div class="card-header" [id]="'faaqhead' + i" >
                                  <a href="#" class="btn btn-header-link collapsed" [attr.data-toggle]="'collapse'"
                                    [attr.data-target]="'#faaq' + i" aria-expanded="true"
                                    (click)="getResellerPaymentdetails({},name.customer_id)"
                                    [attr.aria-controls]="'faaq' + i" style="display:flex;justify-content: space-between;">
                                    <span style="width:33.3%">{{name.customer_name}}</span>
                                 
                                    <span style="width:33.3%" >{{name.account_type}}:{{name.current_balance}}</span>
                
                                    <span style="width:33.3%" *ngIf="name.account_status==true">Account Status:Enabled</span>
                                    <span style="width:33.3%" *ngIf="name.account_status==false">Account Status:Disabled</span> 
                                    
                                    <span style="width:33.3%" *ngIf="name.auto_credit==1">Auto Credit:Enabled</span>
                                    <span style="width:33.3%" *ngIf="name.auto_credit==0">Auto Credit:Disabled</span>    
                                  </a>
                                
                                </div>
            
                                <div [id]="'faaq' + i" class="collapse" [attr.aria-labelledby]="'faaqhead' + i"
                                 data-parent="#faaq">
                                  <div class="card-body">
                                    <div class="table-responsive" style="display: table-cell;width: 50%;">
                                        <table class="table mb-0 table-borderless" id="kirumi">
                                          <thead>
                                            <tr class="userDatatable-header">
                                      
                                              <th class="userDatatable-title" style="color: aliceblue;">Id</th>
                                              <th class="userDatatable-title" style="color: aliceblue;">Company Currency</th>
                                              <th class="userDatatable-title" style="color: aliceblue;">Login</th>
                                              <th class="userDatatable-title" style="color: aliceblue;">Current Balance</th>
                                              <th class="userDatatable-title" style="color: aliceblue;">Min Balance</th>
                                              <th class="userDatatable-title" style="color: aliceblue;">Max Balance</th>
                                              <th class="userDatatable-title" style="color: aliceblue;">Account Type</th>
                                              <th class="userDatatable-title" style="color: aliceblue;">Action</th>
                                      
                                            </tr>
                                      
                                          </thead>
                                      
                                      
                                          <tbody >
                                      
                                            <tr *ngFor="let item of filteredVoipData;let i=index">
                                             
                                              <td>{{ item.client_id }}</td>
                                              <td>{{ item.currency }}</td>
                                              <td>{{ item.login }}</td>
                                              <td>{{ item.current_balance }}</td>
                                              <td>{{ item.min_balance }}</td>
                                              <td>{{ item.max_balance }}</td>
                                              <td>{{ item.account_type }}</td>
                                              <td *ngIf="item.account_status==false" (click)="activate_vssg_client(item.client_id)"><button class="btn btn-primary">Activate</button></td>
                                              <td *ngIf="item.account_status==true" (click)="Deactivate_vssg_client(item.client_id)"><button class="btn btn-primary">Deactivate</button>
                                              </td>
                                            </tr>
                                          </tbody>
                                      
                                        </table>
                                      </div>
                                   
                                   
                                  </div>
                                </div>
            
                              </div>
                            </div>
            
                          </div>
            
            
                        </div>
            
                      </div>
                  
                
        
                </div>
                <!-- All sub menu ends -->
  
              </div>
              <div id="SGSwitch2" class="tab-pane fade" role="tabpanel" aria-labelledby="SGSwitch2-tab"><br>
                <!-- NotPaid entry sub menu ends -->
                <div class="card-body" id="delivery-order-section">
                    <p>SGSwitch2</p>

                  <div class="userDatatable global-shadow border-0 bg-white w-100">
                    <div class="table-responsive">
                      <table class="table mb-0 table-borderless">
                      
                      
                      </table>
                    </div>
                  </div>
                  <br>
                 
        
                </div>
  
  
                <!-- NotPaid entry sub menu ends -->
  
  
              </div>
  
              <div id="KLSwitch" class="tab-pane fade" role="tabpanel" aria-labelledby="KLSwitch-tab"><br>
                <!-- PartialPaid entry sub menu ends -->
                <div class="card-body" id="delivery-order-section">
                    <p>KLSwitch</p>
                  <div class="userDatatable global-shadow border-0 bg-white w-100">
                    <div class="table-responsive">
                      <table class="table mb-0 table-borderless">
                       
                       
                      </table>
                    </div>
                  </div>
                
                </div>
  
                <!-- PartialPaid entry sub menu ends -->
              </div>
  
              <div id="SwitchAll" class="tab-pane fade" role="tabpanel" aria-labelledby="SwitchAll-tab"><br>
                <!-- Paid sub menu starts -->
                <div class="card-body" id="delivery-order-section">
                    <div style="text-align:center">
                    <div> 
                        <input type="checkbox" [(ngModel)]="SGVOIPSwitchChangeValue" (change)="SGVOIPSwitchChange($event)">
                        <label class="ml-2">SG VOIP Switch New</label>
                    </div>
                    <div class="update-btn">
                        <button type="button" class="btn-primary mb-4" (click)="addTopupBalanceVoipData()">Update Credit</button>
                    </div>
                </div>
                  <div class="userDatatable global-shadow border-0 bg-white" style="width: 70%;margin: 0 auto;">
                    <div class="table-responsive">
                      <table class="table mb-0 table-borderless" id="kirumi2">
                        <thead>
                            <tr class="userDatatable-header">
                              <th class="userDatatable-title" style="color: aliceblue;">S.no</th>
                              <th class="userDatatable-title" style="color: aliceblue;">Server Name</th>
                              <th class="userDatatable-title" style="color: aliceblue;">No of Record</th>
                              <th class="userDatatable-title" style="color: aliceblue;">User</th>
                              <th class="userDatatable-title" style="color: aliceblue;">Updated On</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of voipSwitchAllListValue; let i = index">
                              <td>{{ i + 1 }}</td>
                              <td>{{ item.server_name }}</td>
                              <td>{{ item.credit_count }}</td>
                              <td>{{ item.updated_user }}</td>
                              <td>{{ item.created_dt }}</td>
                            </tr>
                          </tbody>
                      </table>
                    </div>
                  </div>
                </div>
                <!-- Paid sub menu ends -->
              </div>

            </div>
  
        </div>
      </div>
    </div>
  
  </div>
