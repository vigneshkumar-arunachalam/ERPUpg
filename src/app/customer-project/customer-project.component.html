<div class="contents-section">

    <div class="row no-gutters">
        <div class="col-lg-12 mb-30">
            <div class="card quotation">
                <div class="card-header color-dark fw-500">
                    <h3 class="card-header-section"><a href="#" class="breadcrumb-item"><i class="fas fa-home"></i>
                            Home</a>
                        <span class="breadcrumb-item active">Customer Projects Management</span>
                    </h3>


                    <div class="quotation-btn-section">
                        <button type="button" title="Add New Customer Projects" data-toggle="modal"
                            data-target="#addFirstCustPrjctMgmt" class="btn btn-primary btn-default btn-squared"
                            style="margin-right: 10px;">
                            <i class="fas fa-plus" style="margin-right:4px;"></i>
                            Add
                        </button>
                        <button type="button" class="btn btn-primary" data-toggle="modal"
                            title="Search Customer Projects" data-target="#searchCustProjFormId">
                            <i class="fas fa-search" style="margin-right:4px;"></i>Search
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <div class="userDatatable global-shadow border-0 bg-white w-100">
                        <div class="table-responsive">
                            <table class="table mb-0 table-borderless">
                                <thead>
                                    <tr class="userDatatable-header">

                                        <th>
                                            <span class="userDatatable-title">S No</span>
                                        </th>

                                        <th>
                                            <span class="userDatatable-title">Projects</span>
                                        </th>
                                        <th>
                                            <span class="userDatatable-title">Date</span>
                                        </th>
                                        <th>
                                            <span class="userDatatable-title">Subject</span>
                                        </th>

                                        <th>
                                            <span class="userDatatable-title">Description</span>
                                        </th>
                                        <th>
                                            <span class="userDatatable-title">Attachment/Owner</span>
                                        </th>


                                        <th>
                                            <span class="userDatatable-title">Action</span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container *ngFor="let list of Transaction_list; let i = index">
                                        <tr
                                            style="background-color: rgb(207, 244, 232);color: rgb(12, 6, 0);border-style: none;">
                                            <td colspan="5">
                                                <div class="row-align">
                                                    <!-- 1. Button -->
                                                    <div class="button-col">

                                                        <button type="button" class="buttonClass {{
                                                            list.billerCode}}">
                                                            {{list.billerCode}}</button>
                                                    </div>

                                                    <!-- 2. Customer Name -->
                                                    <div class="name-col">
                                                        {{ list.customerName }}
                                                    </div>

                                                    <!-- 3. Phone Icon -->
                                                    <div class="icon-col" *ngIf="list.phone_provision_status == 1"
                                                        (click)="getCustomerPhoneProvision(list.customer_id)">
                                                        <i class="fas fa-phone" title="Call"></i>
                                                    </div>

                                                    <!-- 4. Lock Icon -->
                                                    <div class="icon-col" *ngIf="list.license_key_status == 1"
                                                        (click)="getLicensekeyDetails(list.customer_id)">
                                                        <i class="fa fa-lock" title="License Key"></i>
                                                    </div>
                                                </div>
                                            </td>



                                            <td>
                                                <img *ngIf="list.profile_image" [src]="list.profile_image" alt="Owner"
                                                    class="owner-img" />
                                                <span>{{ list.user_name }}</span>
                                            </td>
                                            <td>
                                                <div class="page">

                                                    <div class="dropdown">
                                                        <button class="btn1"><i class="fa fa-bars"></i></button>
                                                        <ul class="dropdown__list">

                                                            <li class="dropdown__item">
                                                                <a class="hover1" title="Add"
                                                                    (click)="openAdd(list.work_details_id)">
                                                                    <img class="hide"
                                                                        src="assets/img/icon2/add-user-black.png">
                                                                    <img class="show"
                                                                        src="assets/img/icon2/add-user-blue.png">
                                                                </a>

                                                            </li>
                                                            <li class="dropdown__item">
                                                                <a class="hover1" title="Edit"
                                                                    (click)="openEdit(list.work_details_id )">
                                                                    <img class="show"
                                                                        src="assets/img/icon/nfc-pen-b.png">
                                                                    <img class="hide" src="assets/img/icon/nfc-pen.png">
                                                                </a>

                                                            </li>
                                                            <li class="dropdown__item">
                                                                <a class="hover1" title="Delete"
                                                                    (click)="openDelete(list.work_details_id )">
                                                                    <img class="show"
                                                                        src="assets/img/icon2/delete-blue.png">
                                                                    <img class="hide"
                                                                        src="assets/img/icon2/delete-black.png">
                                                                </a>

                                                            </li>



                                                        </ul>
                                                    </div>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td colspan="7">
                                                <span (click)="backupAttachment(list.work_details_id)"
                                                    class="backup">Backup and
                                                    Attachment<i class="fas fa-file"
                                                        style="cursor: pointer; color: blue;margin-left: 5px;"
                                                        title="Open File"></i></span>
                                            </td>
                                        </tr>
                                        <ng-container *ngFor="let list1 of list.projects; let j = index">
                                            <tr>
                                                <td colspan="7">
                                                    <span class="subj">{{ list1.subject_name}}</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <span>{{ j+1}}</span>
                                                </td>
                                                <td>
                                                    <!-- <span>{{ list1.project_name}}</span> -->
                                                    <span>{{ list1.project_name}}</span>
                                                </td>



                                                <td>
                                                    <span>{{ list1.project_date}}</span>
                                                </td>
                                                <td>
                                                    <!-- <span>{{ list1.subject_name}}</span> -->
                                                    <span>{{ list1.subject_name}}</span>
                                                </td>

                                                <td>
                                                    <!-- <span>{{ list1.description}}</span> -->
                                                    <span class="long-text" [innerHTML]="list1.description"></span>
                                                </td>
                                                <td>
                                                    <ng-container
                                                        *ngFor="let list6 of list1.attachment_file; let k = index">
                                                        <i class="fas fa-paperclip"
                                                            style="margin-right: 5px;color:#dd1007"
                                                            (click)="viewAttachFile(list6.uploaded_file_name)"></i>
                                                        <!-- FontAwesome icon -->
                                                        <!-- {{ list6.uploaded_file_name }} -->
                                                        <br />
                                                    </ng-container>
                                                <td>
                                                    <div class="page">

                                                        <div class="dropdown">
                                                            <button class="btn2"><i class="fa fa-bars"></i></button>
                                                            <ul class="dropdown__list">

                                                                <li class="dropdown__item">
                                                                    <a class="hover1" title="View"
                                                                        (click)="viewCustomerPrjMgmt(list1.project_details_id)">
                                                                        <img class="show"
                                                                            src="assets/img/icon2/notepad.png">
                                                                        <img class="hide"
                                                                            src="assets/img/icon2/notepad-black.png">
                                                                    </a>

                                                                </li>
                                                                <li class="dropdown__item">
                                                                    <a class="hover1" title="Edit"
                                                                        (click)="openEdit(list1.project_details_id )">
                                                                        <img class="show"
                                                                            src="assets/img/icon2/edit-blue.png">
                                                                        <img class="hide"
                                                                            src="assets/img/icon2/edit-black.png">
                                                                    </a>

                                                                </li>
                                                                <li class="dropdown__item">
                                                                    <a class="hover1" title="Email" data-toggle="modal"
                                                                        data-target="#emailFormId_cusproj"
                                                                        (click)="openEmail(list1.project_details_id )">
                                                                        <img class="show"
                                                                            src="assets/img/icon2/gmail-blue.png">
                                                                        <img class="hide"
                                                                            src="assets/img/icon2/gmail-black.png">
                                                                    </a>

                                                                </li>
                                                                <li class="dropdown__item">
                                                                    <a class="hover1" title="Credentials"
                                                                        (click)="openCredentials(list1.project_details_id)">
                                                                        <img class="show"
                                                                            src="assets/img/icon2/share-square-red.png">
                                                                        <img class="hide"
                                                                            src="assets/img/icon2/share-square-black.png">
                                                                    </a>

                                                                </li>
                                                                <li class="dropdown__item">
                                                                    <a class="hover1" title="Delete"
                                                                        (click)="subDelete(list1.project_details_id )">
                                                                        <img class="show"
                                                                            src="assets/img/icon2/delete-blue.png">
                                                                        <img class="hide"
                                                                            src="assets/img/icon2/delete-black.png">
                                                                    </a>

                                                                </li>




                                                            </ul>
                                                        </div>
                                                    </div>
                                                </td>



                                            </tr>
                                        </ng-container>
                                    </ng-container>



                                </tbody>
                            </table>
                            <br>
                            <nav class="atbd-page">
                                <ul class="pagination mb-0" *ngIf="paginationData.info == 'show'">

                                    <li class="page-item">
                                        <a [class]="paginationData.backtab=='show' ? 'page-link' :'page-link disabled'"
                                            href="javascript:void(0)"
                                            (click)="paginationData.backtab=='show' ? getTransactionNewList({'offset':paginationData.start}) : false"><i
                                                class="fas fa-angle-left"></i></a>
                                    </li>
                                    <li class="page-item" *ngIf="paginationData.backtab =='show'">
                                        <a class="page-link" href="javascript:void(0)"
                                            (click)="getTransactionNewList({'offset':paginationData.back})"><i
                                                class="fas fa-angle-double-left"></i></a>
                                    </li>
                                    <li [class]="pagination.load ==false ? 'page-item active' :'page-item'"
                                        *ngFor="let pagination of paginationData.data;let i=index">
                                        <a class="page-link" href="javascript:void(0)"
                                            (click)=" pagination.load ==true ? getTransactionNewList({'offset':pagination.offset_count}) : false">{{pagination.btn_length}}
                                            <span class="sr-only" *ngIf="pagination.load ==false">(current)</span></a>
                                    </li>

                                    <li class="page-item" *ngIf="paginationData.nexttab =='show'">
                                        <a class="page-link" href="javascript:void(0)"
                                            (click)="getTransactionNewList({'offset':paginationData.next})"><i
                                                class="fas fa-angle-double-right"></i></a>
                                    </li>

                                    <li class="page-item">
                                        <a [class]="paginationData.nexttab =='show' ? 'page-link' : 'page-link disabled'"
                                            href="javascript:void(0)"
                                            (click)="paginationData.nexttab =='show' ? getTransactionNewList({'offset':paginationData.end}) : false"><i
                                                class="fas fa-angle-right"></i></a>
                                    </li>
                                </ul>

                            </nav>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>

</div>

<!----------Modal Pop Up (BEGIN)  for Google Authentication in customer Contract------------------>
<div class="modal fade" id="viewCustomerPjctMgmtID" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
                    background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
                    background: linear-gradient(to right, #262127, #54b7aa);">
                    Customer Project Management </h2>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="viewCustomerPjctMgmtForm">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group row">
                                <div class="col-lg-12">
                                    <label>
                                        Comments
                                    </label>
                                </div>
                                <div class="col-lg-12">

                                    <textarea class="form-control" formControlName="view_comments" rows="4"></textarea>
                                </div>

                            </div>

                        </div>
                        <div class="col-lg-6">
                            <div class="form-group row">
                                <div class="col-lg-12">
                                    <label>
                                        Description
                                    </label>
                                </div>
                                <div class="col-lg-12">

                                    <!-- <input type="text"  class="form-control" formControlName="viewDescription"  /> -->
                                    <!-- <textarea [innerHTML]="this.viewDescr" class="form-control" rows="4"
                                        formControlName="viewDescription"></textarea> -->
                                    <p>Description:{{this.viewDescr}}</p>
                                    <div *ngFor="let test of viewDescrcomments">
                                        <p>--------</p>
                                        <p>comment:{{test.comments}}</p>
                                        <p>Created Date:{{test.create_datetime}}</p>
                                        <p>Project Comment ID:{{test.create_datetime}}</p>


                                    </div>

                                </div>

                            </div>

                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-primary" (click)="viewUpdate()">
                    Update
                </button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<!----------Modal Pop Up (BEGIN)  for Google Authentication in customer Contract------------------>
<!----------Modal Pop Up (BEGIN)  for Add attachment in customer Contract------------------>
<div class="modal fade" id="AddAttachmentID" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
                    background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
                    background: linear-gradient(to right, #262127, #54b7aa);">
                    Add Attachment</h2>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="AddAttachmentForm">
                    <div class="row">


                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_date" class="col-lg-12 col-form-label">Sub Customer Name</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" formControlName="add_cusName">
                                </div>
                                <div class="col-lg-12">
                                    <label for="edit_date" class="col-lg-12 col-form-label">or</label>
                                </div>
                                <div class="col-lg-12">

                                    <select name="add_cusNameDropdown" class="form-control"
                                        aria-label="Select Sub Customer" formControlName="add_cusNameDropdown">
                                        <option value="null">Select Sub Customer</option>

                                        <option *ngFor="let classif of getSubCustomerList" value="{{classif.id}}">
                                            {{classif.name}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="add_projName" class="col-lg-12 col-form-label">Project Name *</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" formControlName="add_projName">
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="add_projDate" class="col-lg-12 col-form-label">Project Date *</label>
                                <div class="col-lg-12">
                                    <input type="date" class="form-control" formControlName="add_projDate">
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="add_subjName" class="col-lg-12 col-form-label">Subject Name *</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" formControlName="add_subjName">
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_date" class="col-lg-12 col-form-label">Select Attachment</label>
                                <div class="col-lg-12">
                                    <input class="col-lg-6" formControlName="file" id="file" type="file" multiple
                                        class="form-control" (change)="onFileChange($event)">

                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 ">
                            <div class="form-group row">
                                <label for="edit_date" class="col-lg-12 col-form-label">Description</label>
                                <div class="col-lg-12">

                                    <editor id="tinyID_addCP" [init]="{
                                base_url: '/tinymce', 
                                branding: false,
                                suffix: '.min'
                                    
                            }"></editor>
                                </div>
                            </div>
                        </div>



                    </div>
                </form>



            </div>
            <div class="modal-footer">

                <button type="submit" class="btn btn-primary" (click)="addAttachmentUpdate()">Save</button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<!----------Modal Pop Up (BEGIN)  for add attachment in customer Contract------------------>



<!----------Modal Pop Up (BEGIN)  for edit attachment in customer Contract------------------>
<div class="modal fade" id="CustPjctMgmtEdit" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
                    background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
                    background: linear-gradient(to right, #262127, #54b7aa);">
                    Customer Project Management</h2>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="editAttachmentForm">
                    <div class="row">


                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_billerName" class="col-lg-12 col-form-label">Biller Name *</label>
                                <div class="col-lg-12">
                                    <select name="edit_billerName" class="form-control" aria-label="Select Sub Customer"
                                        formControlName="edit_billerName">
                                        <option value="null">Select Biller Name</option>

                                        <option *ngFor="let classif of billerDataList" value="{{classif.billerId}}">
                                            {{classif.biller_info}}
                                        </option>
                                    </select>
                                </div>

                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_selectCustomer" class="col-lg-12 col-form-label">Select Customer
                                    *</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" formControlName="edit_selectCustomer">
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_owner" class="col-lg-12 col-form-label">Owner *</label>
                                <div class="col-lg-12">
                                    <select name="edit_owner" class="form-control" aria-label="Select Sub Customer"
                                        formControlName="edit_owner">
                                        <option value="null">Select Owner</option>

                                        <option *ngFor="let classif of OwnerDataList" value="{{classif.userId}}">
                                            {{classif.firstName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_pjctFollower" class="col-lg-12 col-form-label">Project Follower</label>
                                <div class="email-cc-template">
                                    <div class="col-lg-10" *ngFor="let i =index;let display1 of projectFollower;">
                                        <input class="checkbox" type="checkbox" id="check-grp-{{i}}"
                                            checked="{{display1.chk_val == 'true' ? 'checked' : ''}}"
                                            (change)=" EditCHK_emailCC(display1.userId,$event)" />{{display1.firstName}}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 ">
                            <div class="form-group row">
                                <label for="tinyID_editCP" class="col-lg-12 col-form-label">Description</label>
                                <div class="col-lg-12">

                                    <editor id="tinyID_editCP" [init]="{
                                base_url: '/tinymce', 
                                branding: false,
                                suffix: '.min'
                                    
                            }"></editor>
                                </div>
                            </div>
                        </div>


                    </div>
                </form>



            </div>
            <div class="modal-footer">

                <button type="submit" class="btn btn-primary" (click)="openEditUpdate()">Update</button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<!----------Modal Pop Up (BEGIN)  for add attachment in customer Contract------------------>
<!----------Modal Pop Up (BEGIN)  for edit attachment in customer Contract------------------>
<div class="modal fade" id="CustPjctMgmtsubEdit" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
                    background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
                    background: linear-gradient(to right, #262127, #54b7aa);">
                    Customer Project Management</h2>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="editSubAttachmentForm">
                    <div class="row">


                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_cusName" class="col-lg-12 col-form-label">Sub Customer Name</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" formControlName="edit_cusName">
                                </div>
                                <div class="col-lg-12">
                                    <label for="edit_cusNameDropdown" class="col-lg-12 col-form-label">or</label>
                                </div>
                                <div class="col-lg-12">

                                    <select name="edit_cusNameDropdown" class="form-control"
                                        aria-label="Select Sub Customer" formControlName="edit_cusNameDropdown">
                                        <option value="null">Select Sub Customer</option>

                                        <option *ngFor="let classif of getSubCustomerList" value="{{classif.id}}">
                                            {{classif.name}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_projName" class="col-lg-12 col-form-label">Project Name *</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" formControlName="edit_projName">
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_projDate" class="col-lg-12 col-form-label">Project Date *</label>
                                <div class="col-lg-12">
                                    <input type="date" class="form-control" formControlName="edit_projDate">
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_subjName" class="col-lg-12 col-form-label">Subject Name *</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" formControlName="edit_subjName">
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_date" class="col-lg-12 col-form-label">Select Attachment</label>
                                <div class="col-lg-12">
                                    <input class="col-lg-6" formControlName="file" id="file" type="file" multiple
                                        class="form-control" (change)="onFileChange($event)">

                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 ">
                            <div class="form-group row">
                                <label for="edit_description" class="col-lg-12 col-form-label">Description</label>
                                <div class="col-lg-12">

                                    <editor id="tinyID_addCP" [init]="{
                                base_url: '/tinymce', 
                                branding: false,
                                suffix: '.min'
                                    
                            }"></editor>
                                </div>
                            </div>
                        </div>



                    </div>
                </form>



            </div>
            <div class="modal-footer">

                <button type="submit" class="btn btn-primary" (click)="openEditSubUpdate()">Update</button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<!----------Modal Pop Up (BEGIN)  for add attachment in customer Contract------------------>



<!----------Modal Pop Up (BEGIN)  for edit attachment in customer Contract------------------>
<div class="modal fade" id="CredentialsEdit" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
                    background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
                    background: linear-gradient(to right, #262127, #54b7aa);">
                    Credential</h2>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="credentialsForm">
                    <div class="row">

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="teamviewer" class="col-lg-12 col-form-label">Teamviewer Details</label>
                                <div class="col-lg-12">

                                    <textarea class="form-control" formControlName="teamviewer" rows="4"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="edit_projDate" class="col-lg-12 col-form-label">Window Details</label>
                                <div class="col-lg-12">
                                    <textarea class="form-control" formControlName="window" rows="4"></textarea>
                                </div>
                            </div>
                        </div>





                    </div>
                </form>



            </div>
            <div class="modal-footer">

                <button type="submit" class="btn btn-primary" (click)="openCredentialsUpdate()">Update</button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<!----------Modal Pop Up (BEGIN)  for add attachment in customer Contract------------------>

<!----------Modal Pop Up (BEGIN) add  ------------------>
<div class="modal fade" id="GoogleAuthenticationGuruFormId" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
        <div class="modal-content addcustomernewallcss">

            <div class="modal-header">
                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
  background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
  background: linear-gradient(to right, #262127, #54b7aa);">
                    Google Authenticator </h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <form [formGroup]="GoogleAuthenticationForm">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group row">
                                <div class="col-lg-6">
                                    <label>
                                        Google Authentication Code
                                    </label>
                                </div>
                                <div class="col-lg-6">
                                    <input type="text" class="form-control"
                                        (keyup.enter)="GoogleAuthenticationValidation()"
                                        formControlName="google_AuthenticationCode" />
                                </div>

                            </div>

                        </div>
                    </div>
                </form>

            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-primary" (click)="GoogleAuthenticationValidation()">
                    Validate
                </button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<!----------Modal Pop Up (END)  add ------------------>



<!-----------------Modal Pop Up (BEGIN) Email-Landscape------------------>

<div class="modal fade" id="emailFormId_cusproj" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
       background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
       background: linear-gradient(to right, #262127, #54b7aa);">
                    Email</h2>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="emailForm">

                    <div class="col-md-12 col-12">
                        <div class="form-group row">
                            <label for="emailFrom" class="col-lg-2 col-form-label"><span>From</span> :</label>
                            <div class="col-lg-10">
                                <select name="templat" id="emailFrom" class="form-control" formControlName="email_From"
                                    change="handle__email_from($event)">
                                    <option [ngValue]="null" selected>Select From</option>
                                    <option *ngFor="let from of emailFromList" value="{{ from.email_from_id }}">
                                        {{ from.from_email }}
                                    </option>
                                    <!-- <option *ngFor="let from of email_fromList" value="{{ from.email_from_id }}">
                 {{ from.from_email }}
               </option> -->
                                </select>
                                <div class="alert alert-danger alertdangerCustomCSS1  mt-2"
                                    *ngIf="emailForm.controls['email_From'].invalid && emailForm.controls['email_From'].touched">
                                    Please
                                    enter From Address
                                </div>
                            </div>
                        </div>

                    </div>


                    <div class="col-md-12 col-12">
                        <div class="form-group row">
                            <label for="emailto" class="col-lg-2 col-form-label"><span>Select To Type</span> :</label>
                            <div class="col-md-9 col-9" style="display: flex;">
                                <div class="form-check" style="margin-right: 10px;">
                                    <input mdbRadio class="form-check-input" type="radio"
                                        formControlName="radio_ApprovalBy" name="radio_ApprovalBy" id="company"
                                        (change)="handle_radioChange_email($event);" />

                                    <label class="form-check-label" for="company"> Company
                                    </label>
                                </div>

                                <div class="form-check">
                                    <input mdbRadio class="form-check-input" type="radio"
                                        formControlName="radio_ApprovalBy" name="radio_ApprovalBy" id="finance"
                                        [checked]="true" (change)="handle_radioChange_email($event)" />
                                    <label class="form-check-label" for="finance">Finance
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12 col-12">
                        <div class="form-group row">
                            <label for="emailto" class="col-lg-2 col-form-label"><span>To </span>:</label>
                            <div class="col-lg-10">
                                <input type="email" id="emailto" class="form-control" formControlName="email_to">
                                <div class="alert alert-danger alertdangerCustomCSS1  mt-2"
                                    *ngIf="emailForm.controls['email_to'].invalid && emailForm.controls['email_to'].touched">
                                    Please
                                    enter To Address
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-12 col-12">
                        <div class="form-group row">

                            <label for="emailto" class="col-lg-2 col-form-label"><span>CC Group</span> :</label>

                            <div class="col-lg-10 ">

                                <input class="text" class="form-control" formControlName="email_cc" />

                            </div>
                        </div>
                    </div>


                    <div class="col-md-12 col-12">
                        <div class="form-group row">
                            <label for="subject" class="col-lg-2 col-form-label"><span>Subject</span> :</label>
                            <div class="col-lg-10">
                                <input type="text" class="form-control" formControlName="Subject_Content">
                                <div *ngIf="emailForm.controls['Subject_Content'].invalid && (emailForm.controls['Subject_Content'].dirty || emailForm.controls['Subject_Content'].touched)"
                                    class="alert alert-danger alertdangerCustomCSS1 mt-2">
                                    Subject is Required
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-12 col-12">
                        <div class="form-group row">
                            <label for="template" class="col-lg-2 col-form-label"><span>Template</span> :</label>
                            <div class="col-lg-10">
                                <select name="templat" class="form-control" formControlName="email_template"
                                    (change)="templateContentEmailDropdown($event)">
                                    <option [ngValue]="null" selected>Select Template</option>
                                    <option *ngFor="let template of crmTemplateList"
                                        value="{{ template.crm_template_id }}">
                                        {{template.crm_template_name}}
                                    </option>
                                </select>
                                <br>

                                <div *ngIf="emailForm.controls['email_template'].invalid && (emailForm.controls['email_template'].dirty || emailForm.controls['email_template'].touched)"
                                    class="alert alert-danger alertdangerCustomCSS1 ">
                                    Template is Required
                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="col-md-12 col-12">
                        <div class="form-group row">
                            <label for="subject" class="col-lg-2 col-form-label"><span>Message</span> :</label>
                            <div class="col-lg-10">
                                <editor id="tinyID1_cuspjct" [init]="{
                             base_url: '/tinymce', 
                             branding: false,
                             suffix: '.min'
                                 
                         }"></editor>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="col-md-12 col-12">
                     <div class="form-group row">
                         <label for="Attachment" class="col-lg-2 col-form-label"><span>Attachment</span> :</label>

                     </div>
                 </div> -->

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="sendMail()">Send
                    Mail

                </button>
                <button type="button" class="btn btn-dark" data-dismiss="modal" (click)="PIEmailClear()">
                    Close
                </button>

            </div>
        </div>
    </div>
</div>

<!-------------- Email-Landscape Pop up ends------------------------------------------>


<!-----------------Modal Pop Up (BEGIN) File Attachment------------------>
<div class="modal fade" id="fileAttachCusFormId_CP" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
          background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
          background: linear-gradient(to right, #262127, #54b7aa);">
                    File Attachment</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="FileAttachmentForm">

                    <div class="modal-body">
                        <div>
                            <label style="color: hsl(226, 59%, 21%)!important;">
                                Attached Files</label>
                        </div>

                        <div *ngFor="let i =index;let display1 of  getFileAttachmentResult;"
                            style="padding-left: 30px;">

                            {{display1.uploaded_file_name}}

                            <button type="button" class="btn btn-link"
                                (click)="fileAttachmentDelete(display1.work_details_id) "><span
                                    class="bi bi-trash"></span>

                            </button>

                        </div>

                        <div class="col-lg-12 mt-4">
                            <div class="form-group row">
                                <div class="col-lg-4">
                                    <label>
                                        Select New Attachment</label>
                                </div>
                                <div class="col-lg-8" style="padding-left: 30px;">

                                    <!-- <label for="file">File</label> -->

                                    <input class="col-lg-6" formControlName="file" id="file" type="file" multiple
                                        class="form-control" (change)="onFileChange1($event)">

                                </div>
                            </div>
                        </div>




                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary" (click)="fileAttachmentUpdate()">Save</button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Cancel
                </button>

            </div>
        </div>
    </div>
</div>
<!-------------- File Attachment Pop up ends------------------------------------------>

<!-----------------Modal Pop Up (BEGIN) File Attachment------------------>
<div class="modal fade" id="callFormId_CP" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
          background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
          background: linear-gradient(to right, #262127, #54b7aa);">
                    Phone Details</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="userDatatable global-shadow border-0 bg-white w-100">
                    <div class="table-responsive">
                        <table class="table mb-0 table-borderless">
                            <thead>
                                <tr class="userDatatable-header">

                                    <th>
                                        <span class="userDatatable-title">S No</span>
                                    </th>


                                    <th>
                                        <span class="userDatatable-title">Date</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">Phone Type</span>
                                    </th>

                                    <th>
                                        <span class="userDatatable-title">MAC Address</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">DID No</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">Label Name</span>
                                    </th>
                                    <!-- <th>
                                        <span class="userDatatable-title">DID No</span>
                                    </th> -->
                                    <th>
                                        <span class="userDatatable-title">Account Name</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">User Name</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">Password</span>
                                    </th>

                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let list1 of getCustPhoneProvList; let i = index">

                                    <tr>
                                        <td>
                                            <span>{{ i+1}}</span>
                                        </td>
                                        <td>

                                            <span>{{ list1.phone_provision_date}}</span>
                                        </td>



                                        <td>
                                            <span>{{ list1.type_phone_provision_name}}</span>
                                        </td>
                                        <td>

                                            <span>{{ list1.mac_address_1}}</span>
                                        </td>

                                        <td>

                                            <span>{{ list1.did_name_1}}</span>
                                        </td>

                                        <td>

                                            <span>{{ list1.label_name_1}}</span>
                                        </td>
                                        <td>

                                            <span>{{ list1.account_name_1}}</span>
                                        </td>
                                        <td>

                                            <span>{{ list1.username_1}}</span>
                                        </td>
                                        <td>

                                            <span>{{ list1.password_1}}</span>
                                        </td>






                                    </tr>
                                </ng-container>




                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Cancel
                </button>

            </div>
        </div>
    </div>
</div>
<!-------------- File Attachment Pop up ends------------------------------------------>

<!-----------------Modal Pop Up (BEGIN) File Attachment------------------>
<div class="modal fade" id="licenceKeyDetFormId_CP" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
          background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
          background: linear-gradient(to right, #262127, #54b7aa);">
                    Licence Key Details</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="userDatatable global-shadow border-0 bg-white w-100">
                    <div class="table-responsive">
                        <table class="table mb-0 table-borderless">
                            <thead>
                                <tr class="userDatatable-header">

                                    <th>
                                        <span class="userDatatable-title">S No</span>
                                    </th>


                                    <th>
                                        <span class="userDatatable-title">Biller</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">Issue Date</span>
                                    </th>

                                    <th>
                                        <span class="userDatatable-title">Product</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">License Key</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">Primary License</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">Key Exp Date</span>
                                    </th>
                                    <th>
                                        <span class="userDatatable-title">Email</span>
                                    </th>


                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let list1 of getLicensekeyDetailsList; let i = index">

                                    <tr>
                                        <td>
                                            <span>{{ i+1}}</span>
                                        </td>
                                        <td>
                                            <span><button type="button" class="buttonClass {{
                                                            list1.billerCode}}">
                                                    {{list1.billerCode}}</button></span>
                                            <!-- <span>{{ list1.billerCode}}</span> -->
                                        </td>



                                        <td>
                                            <span>{{ list1.issueDate}}</span>
                                        </td>
                                        <td>

                                            <span>{{ list1.license_product_name}}</span>
                                        </td>

                                        <td>

                                            <span>{{ list1.license_key}}</span>
                                        </td>

                                        <td>

                                            <span>{{ list1.primary_license}}</span>
                                        </td>
                                        <td>

                                            <span>{{ list1.key_exp_date}}</span>
                                        </td>
                                        <td>

                                            <span>{{ list1.activation_email}}</span>
                                        </td>






                                    </tr>
                                </ng-container>




                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Cancel
                </button>

            </div>
        </div>
    </div>
</div>
<!-------------- File Attachment Pop up ends------------------------------------------>


<!----------Modal Pop Up (BEGIN)  for edit attachment in customer Contract------------------>
<div class="modal fade" id="addFirstCustPrjctMgmt" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
                    background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
                    background: linear-gradient(to right, #262127, #54b7aa);">
                    Add Customer Project </h2>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="addCustomerProjectForm">
                    <div class="row">


                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="addc_billerName" class="col-lg-12 col-form-label">Biller Name <span
                                        style="color:red">*</span></label>
                                <div class="col-lg-12">
                                    <select name="addc_billerName" class="form-control" aria-label="Select Sub Customer"
                                        formControlName="addc_billerName">
                                        <option value="null">Select Biller Name</option>

                                        <option *ngFor="let classif of addBillerData" value="{{classif.billerId}}">
                                            {{classif.biller_info}}
                                        </option>
                                    </select>
                                </div>

                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="addc_selectCustomer" class="col-lg-12 col-form-label">Select Customer
                                    <span style="color:red">*</span></label>
                                <div class="col-lg-12">

                                    <div class="ng-autocomplete">

                                        <ng-autocomplete [data]="searchResult" [searchKeyword]="keywordCompanyName"
                                            formControlName="addc_selectCustomer"
                                            (selected)='selectEventCustomer($event)'
                                            (inputChanged)='searchCustomerData($event)'
                                            (inputCleared)="clearSelection($event)"
                                            (inputFocused)='onFocusedCustomer($event)'
                                            [itemTemplate]="itemTemplateCustomer" [notFoundTemplate]="notFoundTemplate">
                                        </ng-autocomplete>

                                        <ng-template #itemTemplateCustomer let-item>
                                            <a [innerHTML]="item.customerName"></a>
                                        </ng-template>

                                        <ng-template #notFoundTemplate let-notFound>
                                            <div [innerHTML]="notFound"></div>
                                        </ng-template>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 ">
                            <div class="form-group row">
                                <label for="tinyID_addAllCP" class="col-lg-12 col-form-label">Description</label>
                                <div class="col-lg-12">

                                    <editor id="tinyID_addAllCP" [init]="{
                                base_url: '/tinymce', 
                                branding: false,
                                suffix: '.min'
                                    
                            }"></editor>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="addc_owner" class="col-lg-12 col-form-label">Owner <span
                                        style="color:red">*</span></label>
                                <div class="col-lg-12">
                                    <select name="addc_owner" class="form-control" aria-label="Select Sub Customer"
                                        formControlName="addc_owner">
                                        <option value="null">Select Owner</option>

                                        <option *ngFor="let classif of addOwnerData" value="{{classif.userId}}">
                                            {{classif.firstName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="addc_dept" class="col-lg-12 col-form-label">Select Department</label>
                                <div style="display:block;align-items: center;margin-left: 24px;">
                                    <div *ngFor="let itg of addDepartment">
                                        <input type="radio" name="department" [value]="itg.id"
                                            formControlName="department" (change)="departmentChange($event,itg.id)"
                                            id="dept_{{itg.id}}" />
                                        <label [for]="'dept_' + itg.id" class="mr-2 ml-2">{{ itg.name }}</label>
                                    </div>

                                </div>


                            </div>
                        </div>
                        <!-- <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="addc_pjctFollower" class="col-lg-12 col-form-label">Project Follower</label>
                                <div class="email-cc-template">
                                    <div class="col-lg-10" *ngFor="let i =index;let display1 of projectFollower;">
                                        <input class="checkbox" type="checkbox" id="check-grp-{{i}}"
                                            checked="{{display1.chk_val == 'true' ? 'checked' : ''}}"
                                            (change)=" EditCHK_emailCC(display1.userId,$event)" />{{display1.firstName}}
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div class="col-md-12 col-6">
                            <div class="form-group row ml-2">

                                <label for="addc_pjctFollower" class="col-lg-12 col-form-label">Project Follower</label>

                                <div class="email-cc-template">
                                    <div class="" *ngFor="let i =index;let display1 of addFollowersData;">
                                        <input class="checkbox" type="checkbox" id="check-grp-{{i}}"
                                            [checked]="display1.chk_val === 'true'"
                                            (change)=" EditCHK_emailCC1(display1.userId,$event)" />{{display1.firstName}}


                                        <!-- <input class="checkbox" type="checkbox" id="check-grp-cc-{{i}}"
                                    [checked]="display1.chk_val === 'true'"
                                            formControlName="addc_pjctFollower"
                                            (change)="EditCHK_emailCC1(display1.userId,$event)" />{{display1.firstName}} -->
                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>
                </form>



            </div>
            <div class="modal-footer">

                <button type="submit" class="btn btn-primary" (click)="addALLSaveUpdate()">Update</button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<!----------Modal Pop Up (BEGIN)  for add attachment in customer Contract------------------>

<!----------Modal Pop Up (BEGIN)  for edit attachment in customer Contract------------------>
<div class="modal fade" id="searchCustProjFormId" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(240 241 219);background: #200122; /* fallback for old browsers */
                    background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
                    background: linear-gradient(to right, #262127, #54b7aa);">
                    Advance Search </h2>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="searchCustomerProjectForm">
                    <div class="row">




                        <div class="col-lg-6 ">
                            <div class="form-group row">
                                <label for="addc_selectCustomer" class="col-lg-12 col-form-label">Select Customer
                                    </label>
                                <div class="col-lg-12">

                                    <div class="ng-autocomplete">

                                        <ng-autocomplete [data]="searchResult" [searchKeyword]="keywordCompanyName"
                                            formControlName="addc_selectCustomer"
                                            (selected)='selectEventCustomer($event)'
                                            (inputChanged)='searchCustomerData($event)'
                                            (inputCleared)="clearSelection($event)"
                                            (inputFocused)='onFocusedCustomer($event)'
                                            [itemTemplate]="itemTemplateCustomer" [notFoundTemplate]="notFoundTemplate">
                                        </ng-autocomplete>

                                        <ng-template #itemTemplateCustomer let-item>
                                            <a [innerHTML]="item.customerName"></a>
                                        </ng-template>

                                        <ng-template #notFoundTemplate let-notFound>
                                            <div [innerHTML]="notFound"></div>
                                        </ng-template>

                                    </div>
                                </div>
                            </div>
                        </div>




                        <div class="col-lg-6">
                            <div class="form-group row">
                                <label for="addc_pjctFollower" class="col-lg-12 col-form-label">Search Text</label>
                                <div class="col-lg-12">
                                    <input type="text" formControlName="searchText" class="form-control">
                                </div>
                            </div>
                        </div>




                    </div>
                </form>



            </div>
            <div class="modal-footer">

                <button type="submit" class="btn btn-primary" (click)="getTransactionNewList({})">Search</button>
                <button type="button" class="btn btn-dark" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<!----------Modal Pop Up (BEGIN)  for add attachment in customer Contract------------------>