<div class="contents-section addquotation-section">
    <div class="col-lg-12 mb-30">
        <div class="card">
            <div class="card-header color-dark fw-500">
                <h3 class="card-header-section"><a href="#" class="breadcrumb-item"><i class="fas fa-home"></i> Home</a>
                    <span class="breadcrumb-item active">Add Transaction Details</span>
                </h3>


            </div>
        </div>
    </div>
    <form [formGroup]="addTransaction_section1">
        <div class="row ">
            <div class="col-lg-6" style="margin-left: 20px;">
                <div class="col-lg-12">
                    <div class="form-group row">
                        <div class="col-lg-3"><label for="biller_name8" class="col-form-label">Biller Name</label></div>

                        <div class="col-lg-9">
                            <select id="biller_name8" class="form-control" formControlName="billerName"
                                (change)="BillerChange($event)">
                                <option [ngValue]="null" selected>Select Biller Name</option>
                                <option *ngFor="let biller of billerDetails" value="{{biller.billerId}}">
                                    {{biller.billerName}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12">
                    <div class="form-group row">
                        <div class="col-lg-3"><label for="trans_Date" class=" col-form-label">Date</label></div>

                        <div class="col-lg-9">
                            <input type="date" class="form-control" formControlName="trans_Date" id="trans_Date" />
                        </div>
                    </div>
                </div>

                <div class="col-lg-12">
                    <div class="form-group row">
                        <div class="col-lg-3"><label for="priority" class="col-form-label">Priority</label></div>

                        <div class="col-lg-9">
                            <select id="priority" class="form-control" formControlName="priority">
                                <option [ngValue]="null" selected>Select Priority</option>
                                <option *ngFor="let prior of priorityList" value="{{prior.name}}">
                                    {{prior.name}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>


            <div class="col-lg-12">
                <div class="form-group row">
                    <div class="col-lg-3">
                        <label for="trans_typee" class=" col-form-label ml-3 trans_typeee">Type of Transaction</label>
                    </div>

                    <div class="col-lg-12">

                        <div class="container-fluid mt-3">

                            <!-- Nav pills -->
                            <!-- <ul class="nav nav-pills " role="tablist" style="justify-content: space-evenly;">
                                <li class="nav-item ">
                                    <a class="nav-link active btnn pulse" data-toggle="tab" href="#PurchaseEntry" role="tab"
                                        aria-controls="PurchaseEntry" aria-selected="true"
                                        (click)="SelectTransactionType_PE()"> Purchase
                                        Entry</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btnn pulse" data-toggle="tab" href="#PettyCash" role="tab"
                                        aria-controls="PettyCash" aria-selected="false"
                                        (click)="SelectTransactionType_PC()">Petty Cash</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btnn pulse" data-toggle="tab" href="#Logistics" role="tab"
                                        aria-controls="Logistics" aria-selected="false"
                                        (click)="SelectTransactionType_Log()">Logistics</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btnn pulse" data-toggle="tab" href="#VendorOrder" role="tab"
                                        aria-controls="VendorOrder" aria-selected="false"
                                        (click)="SelectTransactionType_VO()">Vendor Order</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btnn pulse" data-toggle="tab" href="#InvoicePayment" role="tab"
                                        aria-controls="InvoicePayment" aria-selected="false"
                                        (click)="SelectTransactionType_IP()">Invoice Payment</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btnn pulse" data-toggle="tab" href="#AddNewStock" role="tab"
                                        aria-controls="AddNewStock" aria-selected="false"
                                        (click)="SelectTransactionType_ANS()">Add New Stock</a>
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link btnn pulse" data-toggle="tab" href="#StockIssued" role="tab"
                                        aria-controls="StockIssued" aria-selected="false"
                                        (click)="SelectTransactionType_SI()">Stock Issued</a>
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link btnn pulse" data-toggle="tab" href="#StockTransfer" role="tab"
                                        aria-controls="StockTransfer" aria-selected="false"
                                        (click)="SelectTransactionType_ST()">Stock Transfer</a>
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link btnn pulse" data-toggle="tab" href="#Others" role="tab"
                                        aria-controls="Others" aria-selected="false"
                                        (click)="SelectTransactionType_Others()">Others</a>
                                </li>
                            </ul> -->

                            <!-- <div class="wrapper"> -->

                            <nav>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'PurchaseEntry'"
                                    *ngIf="purchase_tab == 1" (click)="selectTransactionType('PurchaseEntry')">
                                    <span>Purchase Entry</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M6 2l12 0a1 1 0 0 1 1 1v2h-14v-2a1 1 0 0 1 1 -1z" />
                                        <path d="M3 6h18l-1 14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
                                        <path d="M16 10a4 4 0 0 1 -8 0" />


                                    </svg>
                                </a>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'PettyCash'"
                                    *ngIf="pettycash_tab == 1" (click)="selectTransactionType('PettyCash')">
                                    <span>Petty Cash</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">

                                        <path
                                            d="M3 17l9 5l9 -5v-3l-9 5l-9 -5v-3l9 5l9 -5v-3l-9 5l-9 -5l9 -5l5.418 3.01" />


                                    </svg>
                                </a>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'Logistics'"
                                    *ngIf="logistics_tab == 1" (click)="selectTransactionType('Logistics')">
                                    <span>Logistics</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">

                                        <path d="M3 17v-6h13v6" />
                                        <path d="M16 17v-4h4l2 2v2" />
                                        <circle cx="5" cy="19" r="2" />
                                        <circle cx="17" cy="19" r="2" />

                                    </svg>

                                </a>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'VendorOrder'"
                                    *ngIf="vendor_tab == 1" (click)="selectTransactionType('VendorOrder')">
                                    <span>VendorOrder</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M9 4h6a1 1 0 0 1 1 1v1h-8v-1a1 1 0 0 1 1 -1z" />
                                        <path
                                            d="M5 7h14a1 1 0 0 1 1 1v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a1 1 0 0 1 1 -1z" />
                                        <path d="M9 12h6" />
                                        <path d="M9 16h6" />
                                    </svg>
                                </a>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'InvoicePayment'"
                                    *ngIf="invoice_tab == 1" (click)="selectTransactionType('InvoicePayment')">
                                    <span>Invoice Payment</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <path
                                            d="M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2" />
                                        <path d="M12 3v3m0 12v3" />
                                    </svg>
                                </a>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'AddNewStock'"
                                    *ngIf="add_stock_tab == 1" (click)="selectTransactionType('AddNewStock')">
                                    <span>Add New Stock</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <path d="M9 12h6" />
                                        <path d="M12 9v6" />
                                        <path
                                            d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" />
                                    </svg>
                                </a>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'StockIssued'"
                                    *ngIf="stock_issue_tab == 1" (click)="selectTransactionType('StockIssued')">
                                    <span>Stock Issued</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <path d="M14 3v4a1 1 0 0 0 1 1h4" />
                                        <path d="M5 7v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-5" />
                                        <path d="M9 14l9 -9" />

                                    </svg>
                                </a>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'StockTransfer'"
                                    *ngIf="stock_transfer_tab == 1" (click)="selectTransactionType('StockTransfer')">
                                    <span>Stock Transfer</span>
                                    <span>Stock Transfer</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <path d="M6 9l6 -6l6 6" />
                                        <path d="M18 15l-6 6l-6 -6" />

                                    </svg>
                                </a>
                                <a href="javascript:void(0)" [class.active]="activeTab === 'Others'"
                                    *ngIf="others_tab == 1" (click)="selectTransactionType('Others')">
                                    <span>Others</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <path
                                            d="M12 17.75l-6.172 3.947l1.179-6.873l-5-4.873l6.9-1l3.093-6.277l3.093 6.277l6.9 1l-5 4.873l1.179 6.873z" />

                                    </svg>
                                </a>
                            </nav>



                            <!-- </div> -->

                            <!-- Tab panes -->
                            <div class="tab-content" id="myTabContent">

                                <!-- Purchase Entry sub menu ends -->

                                <div id="PurchaseEntry" *ngIf="activeTab === 'PurchaseEntry'"
                                    class="tab-pane fade show active show active" role="tabpanel"
                                    aria-labelledby="PurchaseEntry-tab"><br>

                                    <h3 class="typeHeaderTrans"> Purchase Entry Transaction</h3>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="purchaseEntryNo"
                                                    class="col-form-label">Purchase Entry
                                                    No<span style="color: red;">*</span></label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="PE_purchaseEntryNo" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="vendorName" class=" col-form-label">Vendor
                                                    Name<span style="color: red;">*</span></label>
                                            </div>
                                            <div class="col-lg-4">
                                                <select id="vendorName" class="form-control"
                                                    formControlName="PE_vendorName">
                                                    <option [ngValue]="null" selected>Select Vendor</option>
                                                    <option *ngFor="let vendor of vendorDetails"
                                                        value="{{vendor.vendorId}}">
                                                        {{vendor.vendorName}}
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-lg-4">
                                                <button type="button" title="Add New Vendor"
                                                    class="btn btn-primary btn-default btn-squared"
                                                    (click)="addVendorNameGo()" style="margin-right: 30px;"><i
                                                        class="fas fa-plus" style="margin-right:0;"></i>
                                                </button>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="purchaseType"
                                                    class=" col-form-label">Purchase
                                                    Type<span style="color: red;">*</span></label></div>

                                            <div class="col-lg-4">
                                                <select id="purchaseType" class="form-control"
                                                    formControlName="PE_purchaseType">
                                                    <option [ngValue]="null" selected>Select Purchase Type</option>
                                                    <option *ngFor="let purchase of purchaseTypeDetails"
                                                        value="{{purchase.purchase_type_id}}">
                                                        {{purchase.purchase_type_name}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="invoiceNo"
                                                    class=" col-form-label">Invoice No<span
                                                        style="color: red;">*</span></label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="PE_invoiceNo" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="invoice_Date"
                                                    class=" col-form-label">Invoice
                                                    Date<span style="color: red;">*</span></label></div>

                                            <div class="col-lg-4">
                                                <input type="date" class="form-control"
                                                    formControlName="PE_invoice_Date" id="invoice_Date" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="invoiceAmount"
                                                    class=" col-form-label">Invoice
                                                    Amount<span style="color: red;">*</span></label></div>

                                            <div class="col-lg-4">
                                                <input type="number" class="form-control"
                                                    formControlName="PE_invoiceAmount" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="contentofPurchase"
                                                    class=" col-form-label">Content of
                                                    Purchase</label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="PE_contentofPurchase" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="poNumber" class=" col-form-label">PO
                                                    Number</label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control" formControlName="PE_poNumber" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="Currency"
                                                    class=" col-form-label">Currency</label></div>

                                            <div class="col-lg-4">
                                                <select id="Currency90" class="form-control"
                                                    (change)="getCurrencyValues($event)" formControlName="PE_Currency">
                                                    <option [ngValue]="null" selected>Select Currency</option>
                                                    <option *ngFor="let curren of currencyDetails"
                                                        value="{{curren.currencyId}}">
                                                        {{curren.currency_name}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="currencyConversionRate"
                                                    class=" col-form-label">Currency Conversion
                                                    Rate</label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="PE_currencyConversionRate" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="taxAmount" class="col-form-label">Tax
                                                    Amount</label></div>

                                            <div class="col-lg-4">
                                                <input type="number" class="form-control"
                                                    formControlName="PE_taxAmount" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="TaxProvider" class=" col-form-label">Tax
                                                    Provider</label></div>

                                            <div class="col-lg-4">
                                                <select id="TaxProvider" class="form-control"
                                                    formControlName="PE_TaxProvider">
                                                    <option [ngValue]="null" selected>Select Tax Provider</option>
                                                    <option *ngFor="let taxProv of taxProviderDetails"
                                                        value="{{taxProv.tax_provider_id}}">
                                                        {{taxProv.tax_provider_name}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="FreightProvider"
                                                    class=" col-form-label">Freight
                                                    Provider</label></div>

                                            <div class="col-lg-4">
                                                <select id="FreightProvider" class="form-control"
                                                    formControlName="PE_FreightProvider">
                                                    <option [ngValue]="null" selected>Select Freight Provider</option>

                                                    <option *ngFor="let taxProv of taxProviderDetails"
                                                        value="{{taxProv.tax_provider_id}}">
                                                        {{taxProv.tax_provider_name}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="FreightAmount"
                                                    class=" col-form-label">Freight
                                                    Amount</label></div>

                                            <div class="col-lg-4">
                                                <input type="number" class="form-control"
                                                    formControlName="PE_FreightAmount" />
                                            </div>
                                        </div>
                                    </div>



                                    <!-- <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2">  <label for="invoiceAmount" class=" col-form-label">
                                                Attach Mobile</label></div>
                                          
                                            <div class="col-lg-4">
                                                <input class="ml-2 form-check-input" type="checkbox" checked
                                                name="CB_AttachMobile" id="convamt"
                                                formControlName="CB_PE_AttachMobile"
                                                (change)="CB_Fn_PE_AttachMobile($event)">
                                            </div>
                                        </div>
                                    </div> -->


                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="PE_FileAttachment"
                                                    class=" col-form-label">File
                                                    Attachment</label></div>

                                            <!-- <div class="col-lg-4">
                                                <input required type="file" name="PE_FileAttachment"   multiple
                                                    id="PE_FileAttachment" class="form-control"
                                                    formControlName="PE_FileAttachment"
                                                    (change)="fileAttachmentEvent($event)">
                                            </div> -->

                                            <div class="col-lg-4">
                                                <input required type="file" name="PE_FileAttachment" multiple
                                                    id="PE_FileAttachment" class="form-control"
                                                    formControlName="PE_FileAttachment"
                                                    (change)="fileAttachmentEventPurchaseEntry($event)">
                                            </div>
                                        </div>

                                        <!-- Display Selected Files -->
                                        <div class="form-group row" *ngIf="myPurchaseEntryFiles.length > 0">
                                            <div class="col-lg-4 offset-lg-2">
                                                <ul class="list-group">
                                                    <li class="list-group-item"
                                                        *ngFor="let file of myPurchaseEntryFiles; let i = index">
                                                        {{ file.name }}

                                                        <i class="fas fa-trash-alt text-danger cursor-pointer float-right"
                                                            style="cursor: pointer;" (click)="removePurchaseEntryile(i)"></i>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>

                                    </div>

                                    <!-- purchase entry sub menu ends -->

                                </div>

                                <!-- PettyCash entry sub menu ends -->
                                <div id="PettyCash" *ngIf="activeTab === 'PettyCash'" class="tab-pane fade show active"
                                    role="tabpanel" aria-labelledby="PettyCash-tab"><br>
                                    <!-- petty cash entry sub menu ends -->
                                    <h3 class="typeHeaderTrans"> Petty Cash Transaction</h3>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="refResellerDetails"
                                                    class="form-label">Description</label></div>
                                            <div class="col-lg-4"> <textarea class="form-control"
                                                    formControlName="PC_Description" style="height: 70px;"
                                                    row="2"></textarea></div>

                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="PC_Type"
                                                    class=" col-form-label">Type</label></div>

                                            <div class="col-lg-4">
                                                <select id="PC_Type" class="form-control" formControlName="PC_Type">
                                                    <option [ngValue]="null" selected>Select Type</option>
                                                    <option *ngFor="let cashType of cashTypeList"
                                                        value="{{cashType.id}}">
                                                        {{cashType.name}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="PC_Amount"
                                                    class=" col-form-label">Amount</label></div>

                                            <div class="col-lg-4">
                                                <input type="number" class="form-control" formControlName="PC_Amount" />
                                            </div>
                                        </div>
                                    </div>

                                    <!-- <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2">  <label for="CB_PC_AttachMobile" class=" col-form-label">
                                                Attach Mobile</label></div>
                                          
                                            <div class="col-lg-4">
                                                <input class="ml-3 form-check-input" type="checkbox" checked
                                                name="CB_PC_AttachMobile" id="convamt"
                                                formControlName="CB_PC_AttachMobile"
                                                (change)="CB_Fn_PC_AttachMobile($event)">
                                            </div>
                                        </div>
                                    </div> -->




                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="PC_FileAttachment"
                                                    class=" col-form-label">File
                                                    Attachment</label></div>

                                            <div class="col-lg-4">
                                                <input required type="file" name="PC_FileAttachment" multiple
                                                    id="PC_FileAttachment" class="form-control"
                                                    formControlName="PC_FileAttachment"
                                                    (change)="fileAttachmentEventPettyCash($event)">
                                            </div>
                                        </div>

                                        <!-- Display Selected Files -->
                                        <div class="form-group row" *ngIf="myPettyCashFiles.length > 0">
                                            <div class="col-lg-4 offset-lg-2">
                                                <ul class="list-group">
                                                    <li class="list-group-item"
                                                        *ngFor="let file of myPettyCashFiles; let i = index">
                                                        {{ file.name }}

                                                        <i class="fas fa-trash-alt text-danger cursor-pointer float-right"
                                                            style="cursor: pointer;" (click)="removePettyCashFile(i)"></i>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>

                                    </div>

                                    <!-- petty cash entry sub menu ends -->


                                </div>

                                  <!-- Logistics  sub menu ends -->
                                <div id="Logistics" *ngIf="activeTab === 'Logistics'" class="tab-pane fade show active"
                                    role="tabpanel" aria-labelledby="Logistics-tab"><br>


                                    <h3 class="typeHeaderTrans"> Logistics Transaction</h3>
                                    <div class="col-lg-12">

                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="Log_Description"
                                                    class="form-label">Description</label></div>
                                            <div class="col-lg-4"><textarea class="form-control"
                                                    formControlName="Log_Description" style="height: 70px;"
                                                    row="2"></textarea></div>

                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="Log_Type"
                                                    class="col-form-label">Type</label></div>

                                            <div class="col-lg-4">
                                                <select id="Log_Type" class="form-control" formControlName="Log_Type">
                                                    <option [ngValue]="null" selected>Select Type</option>
                                                    <option *ngFor="let cashType of cashTypeList"
                                                        value="{{cashType.id}}">
                                                        {{cashType.name}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="Log_Amount"
                                                    class=" col-form-label">Amount</label></div>

                                            <div class="col-lg-4">
                                                <input type="number" class="form-control"
                                                    formControlName="Log_Amount" />
                                            </div>
                                        </div>
                                    </div>


                                    <!-- <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2">  <label for="CB_Log_AttachMobile" class=" col-form-label">
                                                Attach Mobile</label></div>
                                          
                                            <div class="col-lg-4">
                                                <input class="ml-3 form-check-input" type="checkbox" checked
                                                name="CB_PC_AttachMobile" id="CB_Log_AttachMobile"
                                                formControlName="CB_Log_AttachMobile"
                                                (change)="CB_Fn_Log_AttachMobile($event)">
                                            </div>
                                        </div>
                                    </div> -->



                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="Log_FileAttachment"
                                                    class=" col-form-label">File
                                                    Attachment</label></div>

                                            <div class="col-lg-4">
                                                <input required type="file" name="Log_FileAttachment" multiple
                                                    id="Log_FileAttachment" class="form-control"
                                                    formControlName="Log_FileAttachment"
                                                    (change)="fileAttachmentEventLogistics($event)">
                                            </div>
                                        </div>

                                        <!-- Display Selected Files -->
                                        <div class="form-group row" *ngIf="myLogisticsFiles.length > 0">
                                            <div class="col-lg-4 offset-lg-2">
                                                <ul class="list-group">
                                                    <li class="list-group-item"
                                                        *ngFor="let file of myLogisticsFiles; let i = index">
                                                        {{ file.name }}

                                                        <i class="fas fa-trash-alt text-danger cursor-pointer float-right"
                                                            style="cursor: pointer;" (click)="removeLogisticsFile(i)"></i>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>


                                    </div>


                                    <!-- Logistics entry sub menu ends -->
                                </div>

                                 <!-- Vendor Order sub menu starts -->

                                <div id="VendorOrder" *ngIf="activeTab === 'VendorOrder'"
                                    class="tab-pane fade show active" role="tabpanel" aria-labelledby="VendorOrder-tab">
                                    <br>
                                   

                                    <h3 class="typeHeaderTrans"> Vendor Order Transaction</h3>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="VendorOrder_Description"
                                                    class="form-label">Description</label></div>
                                            <div class="col-lg-4">
                                                <textarea class="form-control" formControlName="VendorOrder_Description"
                                                    style="height: 70px;" row="2"></textarea>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="VendorOrder_FileAttachment"
                                                    class="col-form-label">File Attachment</label></div>

                                            <div class="col-lg-4">
                                                <input required type="file" name="VendorOrder_FileAttachment" multiple
                                                    id="VendorOrder_FileAttachment" class="form-control"
                                                    formControlName="VendorOrder_FileAttachment"
                                                    (change)="fileAttachmentEventVenderOrder($event)">
                                            </div>
                                        </div>

                                        <!-- Display Selected Files -->
                                        <div class="form-group row" *ngIf="myVenderOrderFiles.length > 0">
                                            <div class="col-lg-4 offset-lg-2">
                                                <ul class="list-group">
                                                    <li class="list-group-item"
                                                        *ngFor="let file of myVenderOrderFiles; let i = index">
                                                        {{ file.name }}

                                                        <i class="fas fa-trash-alt text-danger cursor-pointer float-right"
                                                            style="cursor: pointer;" (click)="removeVenderOrderFile(i)"></i>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Vendor Order sub menu ends -->
                                </div>

                                <!-- Invoice Payment sub menu starts -->

                                <div id="InvoicePayment" *ngIf="activeTab === 'InvoicePayment'"
                                    class="tab-pane fade show active" role="tabpanel"
                                    aria-labelledby="InvoicePayment-tab"><br>
                                    
                                    <h3 class="typeHeaderTrans"> Invoice Payment Transaction</h3>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="InvPayment_InvoiceNumber"
                                                    class=" col-form-label">Invoice No</label></div>

                                            <div class="col-lg-4">
                                                <select id="InvPayment_InvoiceNumber" class="form-control"
                                                    (change)="InvoiceChangeValue($event)"
                                                    formControlName="InvPayment_InvoiceNumber">
                                                    <option [ngValue]="null" selected>Select Invoice</option>
                                                    <option *ngFor="let inv of InvoicePaymentList"
                                                        value="{{inv.billId}}">
                                                        {{inv.invoice_no }} {{'| '}}{{inv.b_name }} {{'
                                                        |'}}{{inv.netPayment}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="InvPayment_Biller"
                                                    class=" col-form-label">Biller</label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="InvPayment_Biller" id="InvPayment_Biller"
                                                    [ngModel]="billerName" readonly />
                                                <!-- {{this.billerName}} -->
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="InvPayment_Customer"
                                                    class=" col-form-label">Customer</label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="InvPayment_Customer" id="InvPayment_Customer"
                                                    [ngModel]="customerName" readonly />
                                                <!-- {{this.customerName}} -->
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="InvPayment_Total"
                                                    class=" col-form-label">Total</label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="InvPayment_Total" id="InvPayment_Total"
                                                    [ngModel]="netPayment" readonly />
                                                <!-- {{this.netPayment}} -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="InvPayment_Paid"
                                                    class=" col-form-label">Paid</label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="InvPayment_Paid" id="InvPayment_Paid"
                                                    [ngModel]="amountPaid" readonly />
                                                <!-- {{this.amountPaid}} -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2">
                                                <label for="InvPayment_Owing" class=" col-form-label">Owing</label>
                                            </div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="InvPayment_Owing" id="InvPayment_Owing"
                                                    [ngModel]="balance" readonly />
                                                <!-- {{this.balance}} -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2">
                                                <label for="InvPayment_Amount" class=" col-form-label">Amount</label>
                                            </div>

                                            <div class="col-lg-4">
                                                <input type="number" class="form-control"
                                                    formControlName="InvPayment_Amount" />

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2">
                                                <label for="InvPayment_date" class=" col-form-label">Date</label>
                                            </div>

                                            <div class="col-lg-4">
                                                <input type="date" class="form-control"
                                                    formControlName="InvPayment_date" />
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="InvPayment_PaymentMethod"
                                                    class=" col-form-label">Payment
                                                    Type/Method</label></div>

                                            <div class="col-lg-4">


                                                <select id="InvPayment_PaymentMethod" class="form-control"
                                                    formControlName="InvPayment_PaymentMethod">
                                                    <option [ngValue]="null" selected>Select Payment Method</option>
                                                    <option *ngFor="let inv of paymentTypeDetails"
                                                        value="{{inv.payment_type_id}}">
                                                        {{inv.payment_type_name }}
                                                    </option>
                                                </select>
                                            </div>


                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"> <label for="InvPayment_Notes"
                                                    class="form-label">Note</label></div>
                                            <div class="col-lg-4"> <textarea class="form-control"
                                                    formControlName="InvPayment_Notes" style="height: 70px;"
                                                    row="2"></textarea></div>

                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="InvPayment_Details"
                                                    class=" col-form-label">Payment
                                                    Details</label></div>

                                            <div class="col-lg-4">
                                                <input type="text" class="form-control"
                                                    formControlName="InvPayment_Details" id="InvPayment_Details"
                                                    [ngModel]="payment_details" readonly />
                                            </div>
                                            <!-- {{payment_details}} -->
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="form-group row">
                                            <div class="col-lg-2"><label for="InvPayment_FileAttachment"
                                                    class=" col-form-label">File
                                                    Attachment</label></div>
                                            <div class="col-lg-4">
                                                <input required type="file" name="InvPayment_FileAttachment" multiple
                                                    id="InvPayment_FileAttachment" class="form-control"
                                                    formControlName="InvPayment_FileAttachment"
                                                    (change)="fileAttachmentEventInvoicePayment($event)">
                                            </div>
                                        </div>

                                        <!-- Display Selected Files -->
                                        <div class="form-group row" *ngIf="myInvoicePaymentFiles.length > 0">
                                            <div class="col-lg-4 offset-lg-2">
                                                <ul class="list-group">
                                                    <li class="list-group-item"
                                                        *ngFor="let file of myInvoicePaymentFiles; let i = index">
                                                        {{ file.name }}

                                                        <i class="fas fa-trash-alt text-danger cursor-pointer float-right"
                                                            style="cursor: pointer;" (click)="removeInvoicePaymentFile(i)"></i>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Invoice Payment sub menu ends -->
                                </div>

                                 <!-- Add New Stock sub menu ends -->
                                  
                                <div id="AddNewStock" *ngIf="activeTab === 'AddNewStock'"
                                    class="tab-pane fade show active" role="tabpanel" aria-labelledby="AddNewStock-tab">
                                    <br>

                                   
                                    <h3 class="typeHeaderTrans"> Add New Stock Transaction</h3>
                                    <form [formGroup]="addStock_section2">
                                        <div class="row">
                                            <div class="col-12">
                                                <section>
                                                    <div class="table-responsive ml-3">
                                                        <table
                                                            class="table mb-0 table-borderless  add-contact-table-section">
                                                            <thead>
                                                                <tr class="userDatatable-header issueStock">
                                                                    <th>Vendor Name</th>
                                                                    <th>Pur Date</th>
                                                                    <th>Category Name</th>
                                                                    <th>Product Name Serial / MAC No</th>
                                                                    <th>Qty</th>
                                                                    <th>S.No</th>
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody formArrayName="addresses"
                                                                *ngFor="let address of addressControls?.controls; let i = index;">


                                                                <tr [formGroupName]="i" class="changeBackground">

                                                                    <td style="width: 20%;">
                                                                        <div class="userDatatable-content">
                                                                            <select id="AddNewStock_vendorName"
                                                                                class="form-control"
                                                                                formControlName="vendorId">
                                                                                <option [ngValue]="''" selected>
                                                                                    Select Vendor
                                                                                </option>
                                                                                <option
                                                                                    *ngFor="let vendor of vendorDetails"
                                                                                    value="{{vendor.vendorId}}">
                                                                                    {{vendor.vendorName}}
                                                                                </option>
                                                                            </select>

                                                                        </div>

                                                                    </td>
                                                                    <td style="width: 10%;">
                                                                        <div class="userDatatable-content">
                                                                            <input type="date" class="form-control"
                                                                                formControlName="lic_pur_date"
                                                                                id="AddNewStock_PurDate" />
                                                                        </div>
                                                                    </td>
                                                                    <td style="width: 20%;">
                                                                        <div class="userDatatable-content">

                                                                            <select id="AddNewStock_CategoryName"
                                                                                class="form-control"
                                                                                (change)="getProductName($event,i)"
                                                                                formControlName="entry_product_category_id">
                                                                                <option [ngValue]="''" selected>
                                                                                    Select Category Name
                                                                                </option>
                                                                                <option
                                                                                    *ngFor="let category of productCategoryList"
                                                                                    value="{{category.product_category_id}}">
                                                                                    {{category.product_category_name}}
                                                                                </option>
                                                                            </select>



                                                                        </div>
                                                                    </td>
                                                                    <td style="width: 20%;">
                                                                        <div class="userDatatable-content">
                                                                            <select id="AddNewStock_ProductName"
                                                                                class="form-control"
                                                                                formControlName="entry_product_id">
                                                                                <option [ngValue]="''" selected>
                                                                                    Product Name</option>
                                                                                <option
                                                                                    *ngFor="let product of productNameLists[i] || []"
                                                                                    value="{{product.productId}}">
                                                                                    {{product.productName}}
                                                                                </option>
                                                                            </select>


                                                                        </div>
                                                                        <!-- <div id="serial_mac_no{{i}}">
                                                                              
                                                                               
                                                                            </div> -->
                                                                    </td>
                                                                    <td style="width: 10%;">
                                                                        <!-- <div class="userDatatable-content">
                                                                                <input type="text" class="form-control"
                                                                                    (keyup)="addTextBox(i)"
                                                                                    id="AddNewStock_Qty{{i}}"
                                                                                    formControlName="entry_quantity" />
                                                                            </div> -->
                                                                        <div class="userDatatable-content">
                                                                            <input type="text" class="form-control"
                                                                                id="AddNewStock_Qty{{i}}"
                                                                                formControlName="entry_quantity" />
                                                                        </div>
                                                                        <!-- <div >
                                                                                <input type="text" class="form-control" id="product">
                                                                            </div> -->



                                                                    </td>
                                                                    <td style="width: 10%;">
                                                                        <div class="userDatatable-content">
                                                                            <input type="checkbox" 
                                                                                id="AddNewStock_SNo_CBK{{i}}"
                                                                                formControlName="entry_serail_no_str" />

                                                                        </div>
                                                                    </td>
                                                                    <!-- <td style="width: 10%;">
                                                                            <div class="userDatatable-content" *ngIf="this.serial_no_state==1">
                                                                                <input type="checkbox" [ngModel]="test[i]"
                                                                                 id="AddNewStock_SNo_CBK{{i}}"   formControlName="entry_serail_no_str" />

                                                                            </div>
                                                                        </td> -->

                                                                    <td style="width: 10%;">
                                                                        <div *ngIf="i>0"
                                                                            class="userDatatable-content d-inline-block">
                                                                            <button type="button"
                                                                                class="btn btn-danger btn-sm"
                                                                                (click)=" removeAddress(i)">X</button>

                                                                        </div>
                                                                    </td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </section>

                                                <div class="text-right">
                                                    <button type="button"
                                                        class="btn btn-dark btn-default btn-squared mt-4"
                                                        (click)="addAddress()" style="margin-right: 10px;"><i
                                                            class="fas fa-plus" style="margin-right:0;"> Add Product</i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>

                                    <!-- Add New Stock  sub menu ends -->
                                </div>

                                 <!-- Stock Issued  sub menu ends -->

                                <div id="StockIssued" *ngIf="activeTab === 'StockIssued'"
                                    class="tab-pane fade show active" role="tabpanel" aria-labelledby="StockIssued-tab">
                                    <br>
                                   

                                    <h3 class="typeHeaderTrans"> Stock Issued Transaction</h3>
                                    <form [formGroup]="stockIssueForm">
                                        <div class="row">
                                            <div class="col-12">
                                                <section>
                                                    <div class="table-responsive ml-3">
                                                        <table
                                                            class="table mb-0 table-borderless  add-contact-table-section">
                                                            <thead>
                                                                <tr class="userDatatable-header issueStock">
                                                                    <th>Category Name</th>
                                                                    <th>Product Name</th>
                                                                    <th>Serial/MAC No</th>
                                                                    <th>Issue Customer</th>
                                                                    <th>Number Type</th>
                                                                    <th>Invoice Number</th>
                                                                    <th>Demo</th>
                                                                    <th>Qty</th>
                                                                    <th>A.Qty</th>
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody formArrayName="addresses_issueStock"
                                                                *ngFor="let address of addressControls_issueStock?.controls; let i = index;">
                                                                <tr class="userDatatable-header" [formGroupName]="i"
                                                                    class="changeBackground">
                                                                    <td>
                                                                        <select id="StockIssued_categoryName"
                                                                            class="form-control"
                                                                            formControlName="product_category_id"
                                                                            (change)="getProductName($event, i)">
                                                                            <option [ngValue]="''" selected>Select
                                                                                Category
                                                                            </option>
                                                                            <option
                                                                                *ngFor="let category of productCategoryList"
                                                                                [value]="category.product_category_id">
                                                                                {{category.product_category_name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>

                                                                        <select id="StockIssued_ProductName"
                                                                            class="form-control"
                                                                            formControlName="product_id"
                                                                            (change)="getserial_A_quantity($event,i)">
                                                                            <option [ngValue]="''" selected>Product Name
                                                                            </option>
                                                                            <option
                                                                                *ngFor="let product of productNameLists[i] || []"
                                                                                [value]="product.productId">
                                                                                {{product.productName}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <input type="text"
                                                                            class="form-control secondary"
                                                                            id="StockIssued_serialMACNo"
                                                                            formControlName="serial_no"
                                                                            [readonly]="!this.serial_no[i]" />

                                                                    </td>

                                                                    <td style="position: relative;">
                                                                        <input type="text" class="form-control"
                                                                            id="StockIssued_issueCustomer"
                                                                            formControlName="customer_id"
                                                                            (input)="customer_issue($event,i)" />
                                                                        <input type="hidden"
                                                                            formControlName="customer_id_hd"
                                                                            id="customer_id_hd{{i}}">
                                                                        <ul *ngIf="filteredCustomers[i] || [].length > 0"
                                                                            class="dropdown-list">
                                                                            <li *ngFor="let customer of filteredCustomers[i] || []"
                                                                                (click)="selectCustomer(customer,i)">
                                                                                {{ customer.customerName }}
                                                                            </li>
                                                                        </ul>


                                                                    </td>


                                                                    <td>
                                                                        <div
                                                                            class="form-check form-check-inline ml-4 mt-4 radio-css">
                                                                            <input class="form-check-input radioType"
                                                                                type="radio"
                                                                                formControlName="number_type"
                                                                                [id]="'number_type_invoice_' + i"
                                                                                value="1"
                                                                                (change)="handleChangeissueStock_numType($event, i)"
                                                                                [checked]="addressControls_issueStock.at(i).value.number_type === '1'" />
                                                                            <label class="form-check-label"
                                                                                [for]="'number_type_invoice_' + i">
                                                                                <span>Invoice</span>
                                                                            </label>
                                                                        </div>

                                                                        <div
                                                                            class="form-check form-check-inline ml-4 mt-4 radio-css">
                                                                            <input class="form-check-input radioType"
                                                                                type="radio"
                                                                                formControlName="number_type"
                                                                                [id]="'number_type_do_' + i" value="2"
                                                                                (change)="handleChangeissueStock_numType($event, i)"
                                                                                [checked]="addressControls_issueStock.at(i).value.number_type === '2'" />
                                                                            <label class="form-check-label"
                                                                                [for]="'number_type_do_' + i">
                                                                                <span>Do</span>
                                                                            </label>
                                                                        </div>
                                                                    </td>

                                                                    <td>
                                                                        <select id="StockIssued_InvoiceNo"
                                                                            class="form-control"
                                                                            formControlName="invoice_number">
                                                                            <option [ngValue]="''" selected>Select
                                                                                Invoice No
                                                                            </option>
                                                                            <option
                                                                                *ngFor="let product of invoiceNumber[i] || []"
                                                                                value="{{product.billId}}">
                                                                                {{product.invoice_no}}
                                                                            </option>

                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <input type="checkbox" id="StockIssued_Demo"
                                                                            formControlName="demo_type" />
                                                                    </td>
                                                                    <!-- (change)="updateCheckbox($event,i)" /> -->
                                                                    <td>
                                                                        <input type="text" class="form-control"
                                                                            id="StockIssued_Qty"
                                                                            formControlName="quantity" />
                                                                    </td>
                                                                    <td>
                                                                        <input type="text" class="form-control"
                                                                            id="StockIssued_AQty"
                                                                            [ngModel]="this.available_quantiy[i] || ''"
                                                                            formControlName="A_quantity" readonly />
                                                                    </td>
                                                                    <td>
                                                                        <div *ngIf="i>0"
                                                                            class="userDatatable-content d-inline-block">
                                                                            <button type="button"
                                                                                class="btn btn-danger btn-sm"
                                                                                (click)=" removeAddress_issueStock(i)">X</button>

                                                                        </div>
                                                                    </td>

                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </section>
                                                <div class="text-right">
                                                    <button type="button"
                                                        class="btn btn-dark btn-default btn-squared mt-4"
                                                        (click)="addAddress_issueStock()" style="margin-right: 10px;"><i
                                                            class="fas fa-plus" style="margin-right:0;"> Add Product</i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>

                                    <!-- Stock Issued sub menu ends -->

                                </div>

                                <!-- Stock Transfer  sub menu ends -->

                                <div id="StockTransfer" *ngIf="activeTab === 'StockTransfer'"
                                    class="tab-pane fade show active" role="tabpanel"
                                    aria-labelledby="StockTransfer-tab"><br>
                                    
                                    <h3 class="typeHeaderTrans"> Stock Transfer Transaction</h3>
                                    <form [formGroup]="StockTransferForm">
                                        <div class="row">
                                            <div class="col-12">
                                                <section>
                                                    <div class="table-responsive ml-3">
                                                        <table
                                                            class="table mb-0 table-borderless  add-contact-table-section">
                                                            <thead>
                                                                <tr class="userDatatable-header issueStock">
                                                                    <th>Category Name</th>
                                                                    <th>Product Name</th>
                                                                    <th>Serial/MAC No</th>
                                                                    <th>Transfer Biller</th>
                                                                    <th>Qty</th>
                                                                    <th>A.Qty</th>
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>

                                                            <tbody formArrayName="addresses_stocktransfer"
                                                                *ngFor="let address of addressControls_stocktransfer?.controls; let i = index;">
                                                                <tr class="userDatatable-header" [formGroupName]="i">
                                                                    <td>
                                                                        <select id="StockTransfer_categoryName"
                                                                            class="form-control"
                                                                            formControlName="trans_product_category_id"
                                                                            (change)="getProductName($event, i)">
                                                                            <option [ngValue]="''" selected>Select
                                                                                Category
                                                                            </option>
                                                                            <option
                                                                                *ngFor="let category of productCategoryList"
                                                                                [value]="category.product_category_id">
                                                                                {{category.product_category_name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <select id="StockTransfer_ProductName"
                                                                            class="form-control"
                                                                            formControlName="trans_product_id"
                                                                            (change)="getserial_A_quantity_transfer($event,i)">
                                                                            <option [ngValue]="''" selected>Product Name
                                                                            </option>
                                                                            <option
                                                                                *ngFor="let product of productNameLists[i] || ''"
                                                                                [value]="product.productId">
                                                                                {{product.productName}}
                                                                            </option>
                                                                        </select>
                                                                    </td>

                                                                    <td>
                                                                        <input type="text" class="form-control"
                                                                            id="StockTransfer_SerialNo"
                                                                            formControlName="trans_serial_no"
                                                                            [readonly]="!this.serial_no_transfer[i]" />
                                                                    </td>

                                                                    <td>
                                                                        <select id="StockTransfer_Biller"
                                                                            class="form-control"
                                                                            formControlName="transfer_billerId">
                                                                            <option [ngValue]="''" selected>Select
                                                                                Biller
                                                                            </option>
                                                                            <option
                                                                                *ngFor="let product of transfer_biller"
                                                                                [value]="product.billerId">
                                                                                {{product.billerName}}
                                                                            </option>
                                                                        </select>
                                                                    </td>

                                                                    <td>
                                                                        <input type="text" class="form-control"
                                                                            formControlName="trans_quantity" />
                                                                    </td>
                                                                    <td>
                                                                        <input type="text" class="form-control"
                                                                            formControlName="StockTransfer_AQty"
                                                                            [ngModel]="this.available_quantiy_transfer[i] || ''"
                                                                            readonly />
                                                                    </td>

                                                                    <td>
                                                                        <div *ngIf="i>0"
                                                                            class="userDatatable-content d-inline-block">
                                                                            <button type="button"
                                                                                class="btn btn-danger btn-sm"
                                                                                (click)=" removeAddress_stocktransfer(i)">X</button>

                                                                        </div>
                                                                    </td>

                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </section>
                                                <div class="text-right">
                                                    <button type="button"
                                                        class="btn btn-dark btn-default btn-squared mt-4"
                                                        (click)="addAddress_stocktransfer()"
                                                        style="margin-right: 10px;"><i class="fas fa-plus"
                                                            style="margin-right:0;"> Add Product</i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>

                                    <!-- Stock Transfer sub menu ends -->
                                </div>

                                <!-- Others sub menu starts -->

                                <div id="Others" *ngIf="activeTab === 'Others'" class="tab-pane fade show active"
                                    role="tabpanel" aria-labelledby="Others-tab"><br>
                                    
                                    <h3 class="typeHeaderTrans"> Others Transaction</h3>
                                    <div class="col-lg-12 othersCalss ">
                                        <div class="form-group">
                                            <label for="others_Description" class="form-label">Description</label>
                                            <textarea class="form-control " formControlName="others_Description"
                                                row="2"></textarea>
                                        </div>
                                    </div>

                                    <div class="col-lg-12 othersCalss">
                                        <div class="form-group row">
                                            <label for="others_FileAttachment" class="col-lg-12 col-form-label">File
                                                Attachment</label>
                                            <div class="col-lg-12">
                                                <input required type="file" name="others_FileAttachment"
                                                    id="others_FileAttachment" class="form-control "
                                                    formControlName="others_FileAttachment"
                                                    (change)="fileAttachmentEventOthers($event)">
                                            </div>
                                        </div>

                                        <!-- Display Selected Files -->
                                        <div class="form-group row" *ngIf="myOthersFiles.length > 0">
                                            <div class="col-lg-4">
                                                <ul class="list-group">
                                                    <li class="list-group-item"
                                                        *ngFor="let file of myOthersFiles; let i = index">
                                                        {{ file.name }}

                                                        <i class="fas fa-trash-alt text-danger cursor-pointer float-right"
                                                            style="cursor: pointer;" (click)="removeOthersFile(i)"></i>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>

                                    </div>

                                    <!-- Others sub menu ends -->
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <div class="modal-footer">

        <button type="button" class="btn btn-primary mr-4 " (click)="saveTransaction()">Submit</button>
        <button type="button" class="btn btn-dark" (click)="goBackTransaction()">Cancel</button>
    </div>
</div>


<!-- -----------------------Modal-Vendor Management begins-------------------------------- -->
<div class="modal fade" id="VendorManagementId" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header modelHeaderCSS">
                <h2 class="col-11  modal-title text-center text-center" id="exampleModalLongTitle" style="font-family: cursive;color:rgb(230, 241, 12);background: #200122; /* fallback for old browsers */
                background: -webkit-linear-gradient(to right, #200122, #6f0000); /* Chrome 10-25, Safari 5.1-6 */
                background: linear-gradient(to right, #200122, #6f0000);">
                    Add Vendor Details </h2>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="PE_VendorManagementForm">

                    <div class="modal-body" style="padding-top: 0;">
                        <div class="row">

                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_CompanyCode" class="col-lg-12 col-form-label">Company
                                        Code<span style="color: red;">*</span></label>

                                    <div class="col-lg-12">

                                        <input type="text" [readonly]="isReadOnly" class="form-control"
                                            formControlName="PE_VM_CompanyCode" id="PE_VM_CompanyCode"
                                            [(ngModel)]="this.getVendorCode" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_CompanyName" class="col-lg-12 col-form-label">Company
                                        Name<span style="color: red;">*</span></label>

                                    <div class="col-lg-12">

                                        <input type="text" class="form-control" formControlName="PE_VM_CompanyName"
                                            id="PE_VM_CompanyName" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_VendorName" class="col-lg-12 col-form-label">Vendor Name
                                        <span style="color: red;">*</span></label>

                                    <div class="col-lg-12">

                                        <input type="text" class="form-control" formControlName="PE_VM_VendorName"
                                            id="PE_VM_VendorName" />
                                    </div>
                                </div>
                            </div>



                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_Address1" class="col-lg-12 col-form-label">Address-1</label>

                                    <div class="col-lg-12">

                                        <input type="text" class="form-control" formControlName="PE_VM_Address1"
                                            id="PE_VM_Address1" />
                                    </div>
                                </div>
                            </div>


                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_Address2" class="col-lg-12 col-form-label">Address-2</label>

                                    <div class="col-lg-12">

                                        <input type="text" class="form-control" formControlName="PE_VM_Address2"
                                            id="PE_VM_Address2" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_City" class="col-lg-12 col-form-label">City</label>

                                    <div class="col-lg-12">

                                        <input type="text" class="form-control" formControlName="PE_VM_City"
                                            id="PE_VM_City" />
                                    </div>
                                </div>
                            </div>


                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_State" class="col-lg-12 col-form-label">State</label>

                                    <div class="col-lg-12">

                                        <input type="text" class="form-control" formControlName="PE_VM_State"
                                            id="PE_VM_State" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_Country" class="col-lg-12 col-form-label">Country</label>

                                    <div class="col-lg-12">

                                        <input type="text" class="form-control" formControlName="PE_VM_Country"
                                            id="PE_VM_Country" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_ZipCode" class="col-lg-12 col-form-label">Zip Code</label>

                                    <div class="col-lg-12">

                                        <input type="number" class="form-control" formControlName="PE_VM_ZipCode"
                                            id="PE_VM_ZipCode" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_Phone" class="col-lg-12 col-form-label">Phone</label>

                                    <div class="col-lg-12">

                                        <input type="number" class="form-control" formControlName="PE_VM_Phone"
                                            id="PE_VM_Phone" />
                                    </div>
                                </div>
                            </div>


                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_MobilePhone" class="col-lg-12 col-form-label">Mobile
                                        Phone</label>

                                    <div class="col-lg-12">

                                        <input type="number" class="form-control" formControlName="PE_VM_MobilePhone"
                                            id="PE_VM_MobilePhone" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_Fax" class="col-lg-12 col-form-label">Fax</label>

                                    <div class="col-lg-12">

                                        <input type="text" class="form-control" formControlName="PE_VM_Fax"
                                            id="PE_VM_Fax" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group row">

                                    <label for="PE_VM_Email" class="col-lg-12 col-form-label">Email</label>

                                    <div class="col-lg-12">

                                        <input type="email" class="form-control" formControlName="PE_VM_Email"
                                            id="PE_VM_Email" />

                                        <div
                                            *ngIf="PE_VendorManagementForm.get('PE_VM_Email').errors && (PE_VendorManagementForm.get('PE_VM_Email').dirty || PE_VendorManagementForm.get('PE_VM_Email').touched)">
                                            <div class="alert alert-danger alertdangerCustomCSS1 mt-2"
                                                *ngIf="PE_VendorManagementForm.get('PE_VM_Email').errors['required']">
                                                Email is required.</div>
                                            <div class="alert alert-danger alertdangerCustomCSS1 mt-2"
                                                *ngIf="PE_VendorManagementForm.get('PE_VM_Email').errors['email']">
                                                Please enter a valid email
                                                address.</div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-primary mr-4 " (click)="saveVendorManagement()">Save</button>
                <button type="button" class="btn btn-dark" (click)="cancelVendor()">Cancel</button>
            </div>

        </div>
    </div>
</div>

<!-------------------------- ------Modal-Vendor Management ends-------------------------------------- -->